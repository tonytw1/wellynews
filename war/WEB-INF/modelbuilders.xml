<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

	<bean id="archiveLinksService" class="nz.co.searchwellington.controllers.models.helpers.ArchiveLinksService">
		<constructor-arg ref="contentRetrievalService" />
	</bean>

	<bean id="indexModelBuilder" class="nz.co.searchwellington.controllers.models.IndexModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="loggedInUserFilter" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="archiveLinksService" />		
	</bean>
	
	<bean id="newsitemPageModelBuilder" class="nz.co.searchwellington.controllers.models.NewsitemPageModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
	</bean>
		
	<bean id="archiveModelBuilder" class="nz.co.searchwellington.controllers.models.ArchiveModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="archiveLinksService" />			
	</bean>
		
	<bean id="feedsModelBuilder" class="nz.co.searchwellington.controllers.models.FeedsModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="suggestedFeeditemsService" />
		<constructor-arg ref="urlBuilder" />
	</bean>

	<bean id="publisherModelBuilder" class="nz.co.searchwellington.controllers.models.PublisherModelBuilder">
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="relatedTagsService" />
		<constructor-arg ref="contentRetrievalService" />	
	</bean>

	<bean id="publisherTagCombinerModelBuilder" class="nz.co.searchwellington.controllers.models.PublisherTagCombinerModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="relatedTagsService" />
	</bean>
	
	<bean id="TagModelBuilder" class="nz.co.searchwellington.controllers.models.TagModelBuilder">
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="relatedTagsService" />
		<constructor-arg ref="configDAO" />
		<constructor-arg ref="cachingRssfeedNewsitemService" />
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="keywordSearchService" />
	</bean>
	
	<bean id="geotaggedModelBuilder" class="nz.co.searchwellington.controllers.models.GeotaggedModelBuilder">
		<constructor-arg ref="contentRetrievalService" />	
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="rssUrlBuilder" />
	</bean>
	
	<bean id="commentModelBuilder" class="nz.co.searchwellington.controllers.models.CommentModelBuilder">
		<constructor-arg ref="contentRetrievalService" />	
		<constructor-arg ref="urlBuilder" />	
	</bean>
	
	<bean id="justinModelBuilder" class="nz.co.searchwellington.controllers.models.JustinModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="urlBuilder" />		
	</bean>
	
	<bean id="watchlistModelBuilder" class="nz.co.searchwellington.controllers.models.WatchlistModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="urlBuilder" />
	</bean>
	
	<bean id="rssViewFactory" class="nz.co.searchwellington.views.RssViewFactory" >
		<constructor-arg ref="siteInformation" />
		<constructor-arg ref="rssItemMaker" />		
	</bean>
	
	<bean id="TagCommentModelBuilder" class="nz.co.searchwellington.controllers.models.TagCommentModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="rssUrlBuilder" />	
	</bean>
	
	<bean id="TagGeotaggedModelBuilder" class="nz.co.searchwellington.controllers.models.TagGeotaggedModelBuilder">
		<constructor-arg ref="contentRetrievalService" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="rssUrlBuilder" />
	</bean>

	<bean id="TagCombinerModelBuilder" class="nz.co.searchwellington.controllers.models.TagCombinerModelBuilder">
		<constructor-arg ref="contentRetrievalService" />		
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="relatedTagsService" />
	</bean>
	
	<bean id="feedModelBuilder" class="nz.co.searchwellington.controllers.models.FeedModelBuilder">	
		<constructor-arg ref="cachingRssfeedNewsitemService" />
		<constructor-arg ref="contentRetrievalService" />
	</bean>
			
	<bean id="suggestionsModelBuilder" class="nz.co.searchwellington.controllers.models.SuggestionsModelBuilder">
		<constructor-arg ref="suggestedFeeditemsService" />
		<constructor-arg ref="rssUrlBuilder" />
		<constructor-arg ref="urlBuilder" />
		<constructor-arg ref="contentRetrievalService" />		
	</bean>
	
	<bean id="contentModelBuilder" class="nz.co.searchwellington.controllers.models.ContentModelBuilderService" >
		<constructor-arg ref="loggedInUserFilter" />
		<constructor-arg ref="rssViewFactory" />		
		<constructor-arg>
			<list>				
				<ref bean="indexModelBuilder" />
				<ref bean="newsitemPageModelBuilder" />				
				<ref bean="archiveModelBuilder" />
				<ref bean="feedsModelBuilder" />
				<ref bean="suggestionsModelBuilder" />
				<ref bean="justinModelBuilder" />
				<ref bean="watchlistModelBuilder" />		
				<ref bean="commentModelBuilder" />
				<ref bean="geotaggedModelBuilder" />
				<ref bean="feedModelBuilder" />
				<ref bean="publisherModelBuilder" />
				<ref bean="publisherTagCombinerModelBuilder" />
				<ref bean="TagCommentModelBuilder" />
				<ref bean="TagGeotaggedModelBuilder" />
				<ref bean="TagModelBuilder" />
				<ref bean="TagCombinerModelBuilder" />
			</list>
		</constructor-arg>
	</bean>

</beans>