<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

	<bean id ="aucklandTrainsCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.GenericCommentFeedDetector">
		<property name="regex" value="^http://www.aucklandtrains.co.nz/\d{4}/\d{2}/\d{2}/.*?/feed/$" />
	</bean>
	
	<bean id ="blogspotCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.BlogspotCommentFeedDetector" />		
	
	<bean id ="eyeOfTheFishCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.EyeOfTheFishCommentFeedDetector" />		
		
	<bean id ="tepapaBlogCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.GenericCommentFeedDetector">
		<property name="regex" value="^http://blog.tepapa.govt.nz/\d{4}/\d{2}/\d{2}/.*?/feed/$" />
	</bean>				
	
	<bean id ="textureCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.TextureCommentFeedDetector" />
		
	<bean id ="wellingtonistaCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.GenericCommentFeedDetector">
		<property name="regex" value="^http://wellingtonista.com/crss/node/\d+$" />
	</bean>
	
	<bean id ="newswiresCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.GenericCommentFeedDetector">
		<property name="regex" value="^http://www.newswire.co.nz/\d{4}/\d{2}/.*?/feed/$" />
	</bean>
	
	<bean id="dateRegexCommentFeedDetector" class="nz.co.searchwellington.commentfeeds.detectors.DateRegexCommentFeedDetector" />
					  		  	
	<bean id="commentFeedDetector" class="nz.co.searchwellington.commentfeeds.CommentFeedDetectorService">
		<constructor-arg>
			<list>
				<ref bean="aucklandTrainsCommentFeedDetector" />
				<ref bean="blogspotCommentFeedDetector" />
				<ref bean="eyeOfTheFishCommentFeedDetector" />				
				<ref bean="tepapaBlogCommentFeedDetector" />
				<ref bean="textureCommentFeedDetector" />
				<ref bean="wellingtonistaCommentFeedDetector" />
				<ref bean="newswiresCommentFeedDetector" />
				<ref bean="dateRegexCommentFeedDetector" />
			</list>
		</constructor-arg>
	</bean>
		
	<bean id="commentFeedGuesserService" class="nz.co.searchwellington.commentfeeds.CommentFeedGuesserService">
		<constructor-arg>
			<list>
				<bean class="nz.co.searchwellington.commentfeeds.guessers.WordpressCommentFeedGuesser" />
				<bean class="nz.co.searchwellington.commentfeeds.guessers.WordpressDotComCommentFeedGuesser" />
			</list>
		</constructor-arg>
	</bean>
	
</beans>