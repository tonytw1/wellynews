<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
	
	<bean id="linkChecker" class="nz.co.searchwellington.linkchecking.LinkChecker" >
		<constructor-arg ref="resourceDAO" />
		<constructor-arg ref="snapshotDAO" />
		<constructor-arg ref="contentUpdateService" />
		<constructor-arg ref="httpFetcher" />
		<constructor-arg>
			<list>
				<bean class="nz.co.searchwellington.linkchecking.ContentHasChangedProcesser">
					<constructor-arg ref="snapshotDAO" />				
				</bean>	
				<bean class="nz.co.searchwellington.linkchecking.FirstLiveTimeSetter" />			
				<bean class="nz.co.searchwellington.linkchecking.FeedAutodiscoveryProcesser">
					<constructor-arg ref="resourceDAO" />				
					<constructor-arg ref="compositeLinkExtractor" />
					<constructor-arg ref="commentFeedDetector" />
					<constructor-arg ref="commentFeedGuesserService" />
				</bean>				
				<!--  
					<bean class="nz.co.searchwellington.linkchecking.NewsitemCommentReader">
						<constructor-arg ref="commentFeedReader" />
					</bean>
				-->
			</list>
		</constructor-arg>
	</bean>

 </beans>